<Window x:Class="APP.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:APP"
        xmlns:uc ="clr-namespace:APP.UserControls"
        xmlns:componenUI="clr-namespace:APP.ComponentUI"
        mc:Ignorable="d"
        WindowStartupLocation="CenterScreen"
        WindowState="Maximized"
        WindowStyle="None"
        ResizeMode="NoResize"
        xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
        xmlns:i="http://schemas.microsoft.com/xaml/behaviors">


    <materialDesign:DrawerHost x:Name="DrawerHost" BorderBrush="{DynamicResource MaterialDesignDivider}" OpenMode="Standard">
        <materialDesign:DrawerHost.LeftDrawerContent>

            <Border >
                <Border.Effect>
                    <DropShadowEffect Color="Gray" Direction="315" ShadowDepth="4" 
                          BlurRadius="20" Opacity="0.8"/>
                </Border.Effect>
                <Grid Background="#F5F5F5">
                    <Grid.Resources>
                        <Style TargetType="Button" BasedOn="{StaticResource MaterialDesignFlatButton}">
                            <Setter Property="Height" Value="120"></Setter>
                            <Setter Property="HorizontalAlignment" Value="Center"></Setter>
                            <Setter Property="HorizontalContentAlignment" Value="Center"></Setter>
                        </Style>
                        <Style TargetType="Label">
                            <Setter Property="HorizontalAlignment" Value="Center"></Setter>
                            <Setter Property="FontSize" Value="20"></Setter>
                            <Setter Property="FontWeight" Value="Bold"></Setter>
                        </Style>
                        <Style TargetType="materialDesign:PackIcon">
                            <Setter Property="Height" Value="80"></Setter>
                            <Setter Property="Width" Value="80"></Setter>
                            <Setter Property="HorizontalAlignment" Value="Center"></Setter>
                            <Setter Property="Foreground" Value="DarkSlateBlue"></Setter>
                        </Style>
                    </Grid.Resources>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <!-- Menu -->
                        <RowDefinition Height="*"/>
                        <!-- Khoảng trống -->
                        <RowDefinition Height="Auto"/>
                        <!-- Version -->
                    </Grid.RowDefinitions>

                    <!-- Menu -->
                   
                        <StackPanel Grid.Row="0" >
                       
                        <Button Command="{Binding ShowHomeCommand}">
                                <StackPanel>
                                    <materialDesign:PackIcon Kind="Home" Foreground="SteelBlue" />
                                    <Label Content="{DynamicResource Home}" />
                                </StackPanel>
                            </Button>
                            <Separator></Separator>
                            <Button Command="{Binding ShowToolsCommand}">
                                <StackPanel>
                                    <materialDesign:PackIcon Kind="Tools" Foreground="#607D8B" />
                                    <Label Content="Tools" />
                                </StackPanel>
                            </Button>
                            <Separator></Separator>
                            <Button Command="{Binding ShowSettingCommand}">
                                <StackPanel>
                                    <materialDesign:PackIcon Kind="CogOutline" Foreground="#212121" />
                                    <Label Content="Setting"/>
                                </StackPanel>
                            </Button>
                            <Separator></Separator>
                            <Button Command="{Binding ShowHelpCommand}">
                                <StackPanel>
                                    <materialDesign:PackIcon Kind="Help" Foreground="YellowGreen" />
                                    <Label Content="Help" />
                                </StackPanel>
                            </Button>
                            <Separator></Separator>
                        </StackPanel>
                   
                    <!-- Version ở dưới -->
                    <Label Grid.Row="2" Content="Version:2025" FontStyle="Italic"  HorizontalAlignment="Center" VerticalAlignment="Bottom" Margin="0,0,0,10" FontSize="16" FontWeight="Medium" Foreground="Black"/>
                </Grid>

            </Border>
        </materialDesign:DrawerHost.LeftDrawerContent>
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
            </Grid.RowDefinitions>
            <materialDesign:ColorZone Padding="10,5,5,5" Mode="Standard" BorderBrush="Gray" BorderThickness="0.8">

               
                    <DockPanel>
                        <uc:UCControlBar DockPanel.Dock="Right"></uc:UCControlBar>
                        <StackPanel Orientation="Horizontal">
                            <ToggleButton  IsChecked="{Binding ElementName=DrawerHost, Path=IsLeftDrawerOpen, Mode=TwoWay}"  BorderBrush="Transparent"  Foreground="Black" Background="Transparent" Style="{StaticResource MaterialDesignHamburgerToggleButton}" />
                        <TextBlock Margin="20,0,0,0" Text="VF-PCM Defective Product Reporting System" FontSize="20" FontWeight="Bold" Foreground="Black" TextWrapping="Wrap" HorizontalAlignment="Left" VerticalAlignment="Center">
                            <TextBlock.Effect>
                                <DropShadowEffect Color="Black"  Direction="315" ShadowDepth="2" BlurRadius="4" Opacity="0.4"/>
                            </TextBlock.Effect>
                        </TextBlock>
                    </StackPanel>
                    </DockPanel>
            </materialDesign:ColorZone>
            <Grid Grid.Row="1" Background="#e8e3e3">
                <Grid.RowDefinitions>
                    <RowDefinition Height="auto"></RowDefinition>
                    <RowDefinition Height="*"></RowDefinition>
                </Grid.RowDefinitions>

                <Grid Margin="10,0,20,5" Grid.Row="0">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"></ColumnDefinition>
                        <ColumnDefinition Width="*"></ColumnDefinition>
                        <ColumnDefinition Width="*"></ColumnDefinition>
                    </Grid.ColumnDefinitions>
                    
                    <StackPanel Grid.Column="0" Orientation="Horizontal">
                        <materialDesign:PackIcon VerticalAlignment="Center" Width="35" Height="35" Kind="{Binding PageIcon}" Foreground="DarkSlateBlue" />
                        <TextBlock Grid.Column="0" Text="{Binding Selectedpage, Mode=OneWay, UpdateSourceTrigger=PropertyChanged}" FontSize="30" FontWeight="Bold" Foreground="DarkSlateBlue" TextWrapping="Wrap" HorizontalAlignment="Left" VerticalAlignment="Center">
                        </TextBlock>
                    </StackPanel>

                    <componenUI:RealtimeClock Grid.Column="1" HorizontalAlignment="Center" ></componenUI:RealtimeClock>

                    <materialDesign:Chip  FontWeight="Bold" Content="{Binding CurrentUser}" Icon="A" HorizontalAlignment="Right" Background="White" Grid.Column="2">


                        <materialDesign:Chip.ContextMenu>
                            <ContextMenu materialDesign:MenuAssist.MenuItemsPresenterMargin="0" Placement="Bottom" StaysOpen="True">
                                <!--<MenuItem Header="Change Password" Icon="{materialDesign:PackIcon Kind=LockReset}"/>-->
                                <MenuItem Visibility="{Binding IsLoginVisibility}" Header="Login" Icon="{materialDesign:PackIcon Kind=Login}" Command="{Binding LoginCommand}" />
                                <MenuItem Visibility="{Binding IsLogoutVisibility}" Header="Logout" Icon="{materialDesign:PackIcon Kind=Logout}" Command="{Binding LogoutCommand}"/>
                                <!--<MenuItem Header="User Management" Icon="{materialDesign:PackIcon Kind=AccountGroup}"/>-->
                                <MenuItem Header="Change language" Icon="{materialDesign:PackIcon Kind=Language}" Command="{Binding ChangeLanguageCommand}"/>
                            </ContextMenu>
                        </materialDesign:Chip.ContextMenu>
                    </materialDesign:Chip>
                </Grid>
               
                <ContentControl Grid.Row="1" Content="{Binding CurrentView}" />
            </Grid>
        </Grid>
    </materialDesign:DrawerHost>
   
</Window>

